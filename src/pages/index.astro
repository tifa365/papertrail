---
import MainLayout from "../layouts/MainLayout.astro";
import SearchBox from "../components/SearchBox.astro";
import GermanyMap from "../components/GermanyMap.astro";
import RegionDetail from "../components/RegionDetail.astro";
import Legend from "../components/Legend.astro";
import TopRegions from "../components/TopRegions.astro";

// Page metadata
const pageTitle = "Papertrail - Lokale Tageszeitungen in Deinem Landkreis";
---

<MainLayout title={pageTitle}>
  <style is:global>
    @import "../styles/global.css";
  </style>

  <div class="papertrail-container">
    <!-- Header - NYT Data Viz Style -->
    <div class="header">
      <div class="header-left">
        <h1>Papertrail</h1>
        <div class="subtitle">LOKALE TAGESZEITUNGEN IN DEINEM LANDKREIS</div>
        <div class="divider"></div>
      </div>
    </div>

    <!-- Detail panel for selected region -->
    <RegionDetail />

    <!-- Map Container -->
    <div class="main-content">
      <div class="left-column">
        <GermanyMap />
      </div>
      <div class="right-column">
        <TopRegions />
      </div>
    </div>
  </div>
</MainLayout>

<style>
  .main-content {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
  }
  
  .left-column {
    flex: 3; /* Takes 3/4 of the available space */
  }
  
  .right-column {
    flex: 1; /* Takes 1/4 of the available space */
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    padding-top: 2rem;
  }
  
  @media (max-width: 768px) {
    .main-content {
      flex-direction: column;
    }
    
    .left-column, .right-column {
      flex: 1;
      width: 100%;
    }
  }
</style>
